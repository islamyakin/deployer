<!-- DO NOT EDIT THIS FILE! -->
<!-- Instead edit contrib/ispmanager.php -->
<!-- Then run bin/docgen -->

# Ispmanager Recipe

```php
require 'contrib/ispmanager.php';
```

[Source](/contrib/ispmanager.php)



This recipe for work with ISPManager Lite panel by API.


## Configuration
### ispmanager_owner
[Source](https://github.com/deployphp/deployer/blob/master/contrib/ispmanager.php#L11)



```php title="Default value"
'www-root'
```


### ispmanager_doc_root
[Source](https://github.com/deployphp/deployer/blob/master/contrib/ispmanager.php#L12)



```php title="Default value"
'/var/www/' . get('ispmanager_owner') . '/data/'
```


### ispmanager
[Source](https://github.com/deployphp/deployer/blob/master/contrib/ispmanager.php#L15)

ISPManager default configuration

```php title="Default value"
[
    'api' => [
        'dsn' => 'https://root:password@localhost:1500/ispmgr',
        'secure' => true,
    ],
    'createDomain' => null,
    'updateDomain' => null,
    'deleteDomain' => null,
    'createDatabase' => null,
    'deleteDatabase' => null,
    'phpSelect' => null,
    'createAlias' => null,
    'deleteAlias' => null,
]
```


### vhost
[Source](https://github.com/deployphp/deployer/blob/master/contrib/ispmanager.php#L31)

Vhost default configuration

```php title="Default value"
[
    'name' => '{{domain}}',
    'php_enable' => 'on',
    'aliases' => 'www.{{domain}}',
    'home' => 'www/{{domain}}',
    'owner' => get('ispmanager_owner'),
    'email' => 'webmaster@{{domain}}',
    'charset' => 'off',
    'dirindex' => 'index.php uploaded.html',
    'ssi' => 'on',
    'php' => 'on',
    'php_mode' => 'php_mode_mod',
    'basedir' => 'on',
    'php_apache_version' => 'native',
    'cgi' => 'off',
    'log_access' => 'on',
    'log_error' => 'on',
]
```


### ispmanager_session
[Source](https://github.com/deployphp/deployer/blob/master/contrib/ispmanager.php#L51)

Storage



### ispmanager_databases
[Source](https://github.com/deployphp/deployer/blob/master/contrib/ispmanager.php#L52)



```php title="Default value"
[
    'servers' => [],
    'hosts' => [],
    'dblist' => [],
]
```


### ispmanager_domains
[Source](https://github.com/deployphp/deployer/blob/master/contrib/ispmanager.php#L58)





### ispmanager_phplist
[Source](https://github.com/deployphp/deployer/blob/master/contrib/ispmanager.php#L59)





### ispmanager_aliaslist
[Source](https://github.com/deployphp/deployer/blob/master/contrib/ispmanager.php#L60)






## Tasks

### ispmanager\:init {#ispmanager-init}
[Source](https://github.com/deployphp/deployer/blob/master/contrib/ispmanager.php#L63)

Installs ispmanager.




### ispmanager\:db-server-list {#ispmanager-db-server-list}
[Source](https://github.com/deployphp/deployer/blob/master/contrib/ispmanager.php#L86)

Takes database servers list.




### ispmanager\:db-list {#ispmanager-db-list}
[Source](https://github.com/deployphp/deployer/blob/master/contrib/ispmanager.php#L123)

Takes databases list.




### ispmanager\:domain-list {#ispmanager-domain-list}
[Source](https://github.com/deployphp/deployer/blob/master/contrib/ispmanager.php#L145)

Takes domain list.




### ispmanager\:db-create {#ispmanager-db-create}
[Source](https://github.com/deployphp/deployer/blob/master/contrib/ispmanager.php#L161)

Creates new database.




### ispmanager\:db-delete {#ispmanager-db-delete}
[Source](https://github.com/deployphp/deployer/blob/master/contrib/ispmanager.php#L231)

Deletes database.




### ispmanager\:domain-create {#ispmanager-domain-create}
[Source](https://github.com/deployphp/deployer/blob/master/contrib/ispmanager.php#L282)

Creates new domain.




### ispmanager\:get-php-list {#ispmanager-get-php-list}
[Source](https://github.com/deployphp/deployer/blob/master/contrib/ispmanager.php#L328)

Gets allowed PHP modes and versions.




### ispmanager\:print-php-list {#ispmanager-print-php-list}
[Source](https://github.com/deployphp/deployer/blob/master/contrib/ispmanager.php#L374)

Prints allowed PHP modes and versions.




### ispmanager\:domain-php-select {#ispmanager-domain-php-select}
[Source](https://github.com/deployphp/deployer/blob/master/contrib/ispmanager.php#L412)

Switches PHP version for domain.




### ispmanager\:domain-alias-create {#ispmanager-domain-alias-create}
[Source](https://github.com/deployphp/deployer/blob/master/contrib/ispmanager.php#L481)

Creates new domain alias.




### ispmanager\:domain-alias-delete {#ispmanager-domain-alias-delete}
[Source](https://github.com/deployphp/deployer/blob/master/contrib/ispmanager.php#L550)

Deletes domain alias.




### ispmanager\:domain-delete {#ispmanager-domain-delete}
[Source](https://github.com/deployphp/deployer/blob/master/contrib/ispmanager.php#L618)

Deletes domain.




### ispmanager\:process {#ispmanager-process}
[Source](https://github.com/deployphp/deployer/blob/master/contrib/ispmanager.php#L665)

Auto task processing.




